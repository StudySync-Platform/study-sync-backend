# ========================
# Types
# ========================
type Session {
  id: ID!
  user: User! @belongsTo
  emoji: String!
  subject: String!
  time: DateTime!
  status: String!
  created_at: DateTime!
  updated_at: DateTime!
}

enum SessionStatus {
  STARTING_SOON
  SCHEDULED
}

# ========================
# Queries
# ========================
extend type Query {
  "Paginated list of all sessions"
  sessions: [Session!]! @paginate(type: "PAGINATOR", model: "App\\Models\\Session")

  "Get a single session by ID"
  session(id: ID!): Session @find(model: "App\\Models\\Session")

  "Upcoming sessions (time > now)"
  upcomingSessions: [Session!]!
    @paginate(type: "PAGINATOR", model: "App\\Models\\Session", scopes: ["upcoming"])
}
# ========================
# Mutations (optional, for future use)
# ========================
extend type Mutation {
  "Create a new session"
  createSession(input: CreateSessionInput!): Session! @field(resolver: "App\\GraphQL\\Mutations\\Session\\CreateSession") @guard
}
# ========================
# Input Types
# ========================
input CreateSessionInput {
  emoji: String!
  subject: String!
  time: DateTime!
  status: SessionStatus!
}
